<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>卡片詳情 - PTCG CardDB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; }
        .lang-tab.active {
            background: linear-gradient(90deg, #a7f3d0 0%, #38bdf8 100%);
            color: #065f46;
            font-weight: bold;
        }
        .lang-tab {
            transition: background 0.2s, color 0.2s;
        }
        .modal-bg {
            background: rgba(0,0,0,0.5);
        }
        .modal {
            animation: fadeIn 0.2s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.96); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 flex items-center h-16">
            <span class="text-2xl font-bold text-blue-600">⚡ PTCG</span>
            <span class="ml-2 text-gray-600">卡牌資料庫</span>
        </div>
    </nav>
    <div class="max-w-5xl mx-auto px-6 py-8">
        <div class="flex gap-8">
            <div class="w-1/3">
                <img id="mainCardImg" src="../images/cards/hk/sample-card.png" alt="Card" class="rounded-lg shadow-lg w-full cursor-pointer" onclick="showCardPreview('hk-sample')">
                <div class="flex mt-4 space-x-2">
                    <button id="tab-hk" class="lang-tab px-3 py-1 rounded" onclick="switchLangTab('hk')">HK</button>
                    <button id="tab-jp" class="lang-tab px-3 py-1 rounded" onclick="switchLangTab('jp')">JP</button>
                    <button id="tab-en" class="lang-tab px-3 py-1 rounded" onclick="switchLangTab('en')">EN</button>
                </div>
                <div class="mt-6">
                    <h4 class="font-bold mb-2">進化鏈</h4>
                    <div class="flex items-center space-x-2">
                        <img src="../images/cards/hk/basic.png" class="w-10 h-14 rounded shadow cursor-pointer" onclick="showCardPreview('hk-basic')">
                        <span>→</span>
                        <img src="../images/cards/hk/sample-card.png" class="w-10 h-14 rounded shadow cursor-pointer" onclick="showCardPreview('hk-sample')">
                    </div>
                </div>
            </div>
            <div class="w-2/3">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">妙蛙花 ex</h1>
                <div class="flex items-center space-x-4 mb-4">
                    <span class="bg-green-100 text-green-700 px-2 py-1 rounded text-xs">草</span>
                    <span class="text-gray-500 text-sm">HP 340</span>
                    <span class="text-gray-500 text-sm">SV9 001/190</span>
                    <span class="text-gray-500 text-sm">RR</span>
                </div>
                <div class="mb-4">
                    <h4 class="font-bold mb-1">特性</h4>
                    <div class="bg-yellow-50 p-3 rounded mb-2">
                        <span class="font-medium">花之治癒：</span>每回合可回復己方1隻寶可夢30HP。
                    </div>
                </div>
                <div class="mb-4">
                    <h4 class="font-bold mb-1">招式</h4>
                    <div class="bg-blue-50 p-3 rounded mb-2">
                        <span class="font-medium">能量轟炸</span> <span class="text-xs">[草][無][無]</span> 120
                    </div>
                </div>
                <div class="mb-4">
                    <h4 class="font-bold mb-1 flex items-center">價格走勢
                        <button class="ml-2 text-xs text-blue-600 underline" onclick="openPriceModal()">放大圖表</button>
                    </h4>
                    <img src="../images/prices/sample-price-chart.png" class="w-full h-32 object-cover rounded cursor-pointer" onclick="openPriceModal()">
                </div>
                <div class="mb-4">
                    <h4 class="font-bold mb-1">熱門套牌</h4>
                    <ul class="list-disc ml-6 text-sm text-blue-700">
                        <li>莉佳的草系套牌 <button class="ml-2 text-xs text-green-600 underline" onclick="addToDeck('deck-1')">加入牌組</button></li>
                        <li>冠軍套牌2026 <button class="ml-2 text-xs text-green-600 underline" onclick="addToDeck('deck-2')">加入牌組</button></li>
                    </ul>
                </div>
                <div class="mb-4">
                    <h4 class="font-bold mb-1">用戶評價</h4>
                    <div class="flex items-center space-x-2">
                        <span class="text-yellow-400">★★★★★</span>
                        <span class="text-xs text-gray-500">4.8/5 (120)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Card Preview Modal -->
    <div id="cardPreviewModal" class="hidden fixed inset-0 modal-bg flex items-center justify-center z-50">
        <div class="modal bg-white rounded-lg shadow-xl p-6 relative w-[400px]">
            <button class="absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl" onclick="closeCardPreview()">&times;</button>
            <img id="previewImg" src="../images/cards/hk/sample-card.png" class="w-full h-auto rounded">
        </div>
    </div>

    <!-- Price Chart Modal -->
    <div id="priceModal" class="hidden fixed inset-0 modal-bg flex items-center justify-center z-50">
        <div class="modal bg-white rounded-lg shadow-xl p-6 relative w-[600px]">
            <button class="absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl" onclick="closePriceModal()">&times;</button>
            <img src="../images/prices/sample-price-chart.png" class="w-full h-72 object-cover rounded">
        </div>
    </div>
</body>
<script>
let currentLang = 'hk';

function switchLangTab(lang) {
    currentLang = lang;
    document.getElementById('tab-hk').classList.toggle('active', lang === 'hk');
    document.getElementById('tab-jp').classList.toggle('active', lang === 'jp');
    document.getElementById('tab-en').classList.toggle('active', lang === 'en');
    // Swap card image for demo
    let img = '../images/cards/' + lang + '/sample-card.png';
    document.getElementById('mainCardImg').src = img;
}

function showCardPreview(cardId) {
    // For demo, just swap image based on cardId
    let img = '../images/cards/hk/sample-card.png';
    if(cardId === 'hk-basic') img = '../images/cards/hk/basic.png';
    document.getElementById('previewImg').src = img;
    document.getElementById('cardPreviewModal').classList.remove('hidden');
}
function closeCardPreview() {
    document.getElementById('cardPreviewModal').classList.add('hidden');
}

function addToDeck(deckId) {
    // Show notification
    const notification = document.createElement('div');
    notification.className = 'fixed top-20 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50 text-sm';
    notification.innerHTML = '✓ 已加入牌組';
    document.body.appendChild(notification);
    setTimeout(() => { notification.remove(); }, 1800);
    // In production, would add card to deck
    console.log('Add to deck:', deckId);
}

function openPriceModal() {
    document.getElementById('priceModal').classList.remove('hidden');
}
function closePriceModal() {
    document.getElementById('priceModal').classList.add('hidden');
}

// Set default active tab
switchLangTab('hk');
</script>
</html>