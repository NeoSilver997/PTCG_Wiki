<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>編輯卡牌 | PTCG 卡牌資料庫 (Copilot)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Noto Sans TC', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; }
  </style>
</head>
<body class="bg-slate-900 min-h-screen">
  <!-- Modern Admin Navigation -->
  <nav class="bg-slate-800 border-b border-slate-700 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-center justify-between h-14">
        <div class="flex items-center space-x-6">
          <div class="flex items-center">
            <div class="w-8 h-8 bg-gradient-to-r from-teal-400 to-cyan-500 rounded-lg flex items-center justify-center">
              <span class="text-white font-bold text-sm">C</span>
            </div>
            <span class="ml-3 text-xl font-bold text-white">PTCG</span>
            <span class="ml-2 text-teal-400">編輯卡牌</span>
          </div>
          <div class="text-slate-400 text-sm">
            <a href="admin.html" class="hover:text-white">管理後台</a>
            <span class="mx-2">/</span>
            <span class="text-white">編輯卡牌</span>
          </div>
        </div>
        <div class="flex items-center space-x-3">
          <button class="bg-slate-700 hover:bg-slate-600 text-slate-200 px-4 py-2 rounded-lg text-sm font-medium">儲存草稿</button>
          <button class="bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg text-sm font-medium">發布卡牌</button>
        </div>
      </div>
    </div>
  </nav>

  <div class="max-w-7xl mx-auto px-4 py-6">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
      <!-- Card Preview Sidebar -->
      <div class="lg:col-span-4">
        <div class="bg-slate-800 rounded-xl border border-slate-700 p-6 sticky top-20">
          <h3 class="text-lg font-bold text-white mb-6">卡牌預覽</h3>

          <!-- Card Image Upload -->
          <div class="mb-6">
            <div id="imagePreviewContainer" class="aspect-[245/342] rounded-xl overflow-hidden bg-gradient-to-br from-slate-700 to-slate-800 border-2 border-dashed border-slate-600 flex items-center justify-center cursor-pointer hover:border-teal-500 transition-colors">
              <div class="text-center">
                <div class="w-16 h-16 bg-slate-600 rounded-full flex items-center justify-center mx-auto mb-3">
                  <span class="text-slate-400 text-2xl">📷</span>
                </div>
                <p class="text-slate-300 text-sm mb-1">點擊上傳圖片</p>
                <p class="text-slate-500 text-xs">支援 JPG, PNG 格式</p>
              </div>
            </div>
            <input type="file" id="imageUpload" accept="image/*" class="hidden">
          </div>

          <!-- Card Info Display -->
          <div class="space-y-4">
            <div class="bg-slate-700 rounded-lg p-4">
              <div class="text-slate-400 text-xs mb-1">卡片編號</div>
              <div id="previewCardNumber" class="text-teal-400 font-bold text-lg">MC J005/742</div>
            </div>

            <div class="bg-slate-700 rounded-lg p-4">
              <div class="text-slate-400 text-xs mb-1">卡片名稱</div>
              <div id="previewCardName" class="text-white font-medium">皮卡丘 ex</div>
            </div>

            <div class="bg-slate-700 rounded-lg p-4">
              <div class="text-slate-400 text-xs mb-1">HP 值</div>
              <div id="previewCardHP" class="text-cyan-400 font-bold">200</div>
            </div>

            <div class="bg-slate-700 rounded-lg p-4">
              <div class="text-slate-400 text-xs mb-1">屬性</div>
              <div id="previewCardType" class="inline-flex items-center px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm font-medium border border-yellow-500/30">
                <span class="w-2 h-2 bg-yellow-400 rounded-full mr-2"></span>
                電
              </div>
            </div>
          </div>

          <!-- Status -->
          <div class="mt-6 pt-6 border-t border-slate-700">
            <div class="flex items-center justify-between text-sm">
              <span class="text-slate-400">狀態</span>
              <span class="text-green-400 font-medium">草稿</span>
            </div>
            <div class="flex items-center justify-between text-sm mt-2">
              <span class="text-slate-400">建立時間</span>
              <span class="text-slate-300">2026-01-22</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Main Form -->
      <div class="lg:col-span-8">
        <div class="bg-slate-800 rounded-xl border border-slate-700">
          <!-- Form Tabs -->
          <div class="border-b border-slate-700">
            <nav class="flex">
              <button class="tab-button active px-6 py-4 text-teal-400 border-b-2 border-teal-400 font-medium">基本資訊</button>
              <button class="tab-button px-6 py-4 text-slate-400 hover:text-white">能力資訊</button>
              <button class="tab-button px-6 py-4 text-slate-400 hover:text-white">進化資訊</button>
              <button class="tab-button px-6 py-4 text-slate-400 hover:text-white">其他設定</button>
            </nav>
          </div>

          <div class="p-6">
            <!-- Basic Info Tab -->
            <div id="basic-tab" class="tab-content">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">卡片名稱 *</label>
                  <input type="text" id="cardName" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="輸入卡片名稱">
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">英文名稱</label>
                  <input type="text" id="cardNameEn" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="Pikachu ex">
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">卡片編號 *</label>
                  <input type="text" id="cardNumber" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="SV08 014/108">
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">擴充包 *</label>
                  <select id="expansion" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                    <option value="">選擇擴充包</option>
                    <option value="SV08">SV08 超電突破</option>
                    <option value="SV07">SV07 星晶風暴</option>
                    <option value="MC">MC 初階牌組</option>
                    <option value="M2a">M2a 超級進化夢想ex</option>
                  </select>
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">卡片類型 *</label>
                  <select id="cardCategory" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                    <option value="">選擇類型</option>
                    <option value="pokemon">寶可夢</option>
                    <option value="trainer">訓練家</option>
                    <option value="energy">能量</option>
                  </select>
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">屬性 *</label>
                  <div class="grid grid-cols-4 gap-2">
                    <button class="type-button px-3 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-500" data-type="grass">草</button>
                    <button class="type-button px-3 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-500" data-type="fire">火</button>
                    <button class="type-button px-3 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-500" data-type="water">水</button>
                    <button class="type-button px-3 py-2 bg-yellow-500 text-white rounded-lg text-sm font-medium hover:bg-yellow-400" data-type="electric">電</button>
                    <button class="type-button px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-500" data-type="psychic">超</button>
                    <button class="type-button px-3 py-2 bg-orange-600 text-white rounded-lg text-sm font-medium hover:bg-orange-500" data-type="fighting">鬥</button>
                    <button class="type-button px-3 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-500" data-type="darkness">惡</button>
                    <button class="type-button px-3 py-2 bg-slate-600 text-white rounded-lg text-sm font-medium hover:bg-slate-500" data-type="metal">鋼</button>
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">HP 值</label>
                  <input type="number" id="cardHP" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="200">
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">稀有度 *</label>
                  <select id="rarity" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                    <option value="">選擇稀有度</option>
                    <option value="C">C - 普通</option>
                    <option value="U">U - 非普通</option>
                    <option value="R">R - 稀有</option>
                    <option value="RR">RR - 雙倍稀有</option>
                    <option value="SR">SR - 超級稀有</option>
                    <option value="UR">UR - 終極稀有</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Abilities Tab -->
            <div id="abilities-tab" class="tab-content hidden">
              <div class="space-y-6">
                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">能力名稱</label>
                  <input type="text" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="靜電">
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">能力描述</label>
                  <textarea rows="3" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="在這隻寶可夢在戰鬥場上時，防止對手的所有寶可夢使用「寶可夢道具」卡的「寶可夢道具」效果。"></textarea>
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">攻擊名稱</label>
                  <input type="text" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="伏特攻擊">
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-slate-300 mb-2">傷害</label>
                    <input type="text" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="50">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-slate-300 mb-2">能量需求</label>
                    <input type="text" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="1電">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-slate-300 mb-2">特殊效果</label>
                    <input type="text" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="暈眩">
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">攻擊描述</label>
                  <textarea rows="2" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="這隻寶可夢也受到20點傷害。"></textarea>
                </div>
              </div>
            </div>

            <!-- Evolution Tab -->
            <div id="evolution-tab" class="tab-content hidden">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">進化前</label>
                  <input type="text" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="皮卡丘">
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">進化方式</label>
                  <select class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                    <option value="level">等級進化</option>
                    <option value="stone">進化石</option>
                    <option value="trade">交換進化</option>
                    <option value="special">特殊進化</option>
                  </select>
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">撤退費用</label>
                  <input type="number" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="1">
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">弱點</label>
                  <div class="grid grid-cols-2 gap-2">
                    <button class="weakness-button px-3 py-2 bg-slate-600 text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-500" data-type="fighting">鬥 ×2</button>
                    <button class="weakness-button px-3 py-2 bg-slate-600 text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-500" data-type="none">無弱點</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Settings Tab -->
            <div id="settings-tab" class="tab-content hidden">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">適用標記</label>
                  <div class="space-y-2">
                    <label class="flex items-center">
                      <input type="checkbox" class="regulation-checkbox bg-slate-700 border-slate-600 text-teal-500 rounded">
                      <span class="ml-2 text-slate-200">J - 標準標記</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="regulation-checkbox bg-slate-700 border-slate-600 text-teal-500 rounded">
                      <span class="ml-2 text-slate-200">H - 擴充標記</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="regulation-checkbox bg-slate-700 border-slate-600 text-teal-500 rounded">
                      <span class="ml-2 text-slate-200">G - 未來標記</span>
                    </label>
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-slate-300 mb-2">特殊標記</label>
                  <div class="space-y-2">
                    <label class="flex items-center">
                      <input type="checkbox" class="feature-checkbox bg-slate-700 border-slate-600 text-teal-500 rounded">
                      <span class="ml-2 text-slate-200">ex 寶可夢</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="feature-checkbox bg-slate-700 border-slate-600 text-teal-500 rounded">
                      <span class="ml-2 text-slate-200">VSTAR</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="feature-checkbox bg-slate-700 border-slate-600 text-teal-500 rounded">
                      <span class="ml-2 text-slate-200">VMAX</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="feature-checkbox bg-slate-700 border-slate-600 text-teal-500 rounded">
                      <span class="ml-2 text-slate-200">閃卡</span>
                    </label>
                  </div>
                </div>

                <div class="md:col-span-2">
                  <label class="block text-sm font-medium text-slate-300 mb-2">備註</label>
                  <textarea rows="3" class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent" placeholder="輸入卡牌的特殊說明或備註..."></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Tab switching functionality
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        tabButtons.forEach(btn => {
          btn.classList.remove('active', 'text-teal-400', 'border-teal-400');
          btn.classList.add('text-slate-400');
        });
        button.classList.add('active', 'text-teal-400', 'border-teal-400');
        button.classList.remove('text-slate-400');

        tabContents.forEach(content => content.classList.add('hidden'));
        const tabId = button.getAttribute('class').split(' ')[0].replace('tab-button', '').trim() + '-tab';
        document.getElementById(tabId).classList.remove('hidden');
      });
    });

    // Type selection
    const typeButtons = document.querySelectorAll('.type-button');
    typeButtons.forEach(button => {
      button.addEventListener('click', () => {
        typeButtons.forEach(btn => btn.classList.remove('ring-2', 'ring-white'));
        button.classList.add('ring-2', 'ring-white');
      });
    });

    // Image upload
    const imageUpload = document.getElementById('imageUpload');
    const imagePreviewContainer = document.getElementById('imagePreviewContainer');

    imagePreviewContainer.addEventListener('click', () => {
      imageUpload.click();
    });

    imageUpload.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = (e) => {
          imagePreviewContainer.innerHTML = `<img src="${e.target.result}" class="w-full h-full object-cover">`;
        };
        reader.readAsDataURL(file);
      }
    });

    // Live preview updates
    const cardName = document.getElementById('cardName');
    const cardHP = document.getElementById('cardHP');
    const previewCardName = document.getElementById('previewCardName');
    const previewCardHP = document.getElementById('previewCardHP');

    cardName.addEventListener('input', (e) => {
      previewCardName.textContent = e.target.value || '卡牌名稱';
    });

    cardHP.addEventListener('input', (e) => {
      previewCardHP.textContent = e.target.value || 'HP';
    });
  </script>
</body>
</html>